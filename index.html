<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8-3 Celeration</title>
    <link href="style.css" rel="stylesheet" />
</head>
<body onLoad="startAudio()">
    <video class="video-background" playsinline autoplay muted loop>
        <source src="effect_trim.mp4" type="video/mp4">
    </video>
    <div class="box">
       <div class="box-main">
            <div class="box-content">
                <h2>Woman Day</h2>
                <h3>8 tháng 3</h3>
                <p>Đầu tiên là chúc mừng ngày quốc tế phụ nữ.</p>
                <p>Chúc Ngọc mạnh khỏe, may mắn, xinh đẹp và luôn giữ được nụ cười đáng yêu này.</p>
                <p>Đôi lời tâm sự: Lần gặp đầu, 2 ta có 1 vài tính cách giống nhau. Tuy chưa cảm nhận được sâu sắc, nhưng Vinh nghĩ thời gian sẽ trả lời tất cả, kiên trì và cho nhau cơ hội nhé.</p>
            </div>
            <div class="box-image" id="div-image">
                <img src="./starr.jpg" id="back" />
            </div>
       </div>
    </div>
    <audio id="adio">
        <source src="./music.mp3" type="audio/mpeg" />
    </audio>
    <script type="text/javascript">
        var aray = ["1.jpg", "2.jpg", "3.jpg", "4.jpg"];
        var div = document.getElementById("div-image");
        var im = document.getElementById("back");
        var count = 0;
        function startAudio() {
            var promise = document.getElementById("adio").play();
            if (promise !== undefined) {
                promise.then(() => {
                    //
                }).catch(error => {
                    var div = document.createElement("div");
                    div.setAttribute("id","fake");
                    var body = document.getElementsByTagName("body")[0];
                    var button = document.createElement("button");
                    button.textContent = "Let's started";
                    button.style.fontSize = "25px";
                    button.style.borderRadius = "30px";
                    button.style.padding = "10px";
                    button.style.boxShadow = "0px 5px 5px pink";
                    button.style.backgroundColor = "wheal";
                    div.appendChild(button);
                    div.style.textAlign = "center";
                    div.style.width = "100%";
                    div.style.height = "100%";
                    div.style.position = "absolute";
                    div.style.display = "flex";
                    div.style.alignItems = "center";
                    div.style.justifyContent = "center";
                    div.style.top = "0px";
                    div.style.background = "black";
                    body.appendChild(div);
                    button.onclick = () => {
                        var tmp = document.getElementById("fake");
                        document.getElementById("adio").play();
                        body.removeChild(tmp);
                    }
                });
            }
        }
        setInterval(() => {
            
            if (count == aray.length) count = 0;
            div.style.backgroundImage = "url('"+aray[count]+"')";
            if (count == 1) {
                div.style.backgroundPosition = "35% 10%";
            }
            setTimeout(() => {
                div.removeChild(im);
            }, 300);
            setTimeout(() => {
                div.appendChild(im);
            }, 300);
            count++;
        }, 6000);
    </script>
</body>
</html>